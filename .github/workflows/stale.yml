name: Stale Issue Management

on:
  schedule:
    - cron: "0 0 * * *" # Daily at 00:00 UTC
  workflow_dispatch: # Allow manual trigger

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v10
        with:
          # Issues configuration
          days-before-issue-stale: 60
          days-before-issue-close: 14
          stale-issue-message: >
            This issue has been automatically marked as stale because it has not had
            recent activity. It will be closed if no further activity occurs. Thank you
            for your contributions.
          stale-issue-label: "stale"
          close-issue-message: >
            This issue has been automatically closed due to inactivity. Please feel free
            to reopen if it is still relevant.

          # Pull requests configuration
          days-before-pr-stale: 30
          days-before-pr-close: 7
          stale-pr-message: >
            This pull request has been automatically marked as stale because it has not had
            recent activity. It will be closed if no further activity occurs. Please rebase
            and resolve any conflicts to keep it active.
          stale-pr-label: "stale"
          close-pr-message: >
            This pull request has been automatically closed due to inactivity. Please feel
            free to reopen if you would like to continue working on it.

          # Exempt labels
          exempt-issue-labels: "pinned,security,bug,enhancement,in-progress"
          exempt-pr-labels: "pinned,security,bug,enhancement,in-progress"

          # General configuration
          operations-per-run: 100
          remove-stale-when-updated: true
